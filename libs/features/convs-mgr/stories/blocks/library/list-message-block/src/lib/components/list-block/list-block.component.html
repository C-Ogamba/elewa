<mat-card [id]="id" *ngIf="listMessageBlock">
  <mat-card-title
    >{{ 'PAGE-CONTENT.BLOCKS.TITLES.LIST' | transloco }}
    </mat-card-title
  >
  <mat-card-content>
    <form
      [formGroup]="listMessageBlock"
      fxLayout="column"
      fxLayoutALign="start center"
    >
      <textarea
        id="message"
        name="message"
        formControlName="message"
        type="text"
        fxLayout="column"
        fxLayoutAlign="start center"
      ></textarea>

      <app-default-option-field
        [jsPlumb]="jsPlumb"
        [blockFormGroup]="listMessageBlock"
      ></app-default-option-field>

      <div formArrayName="listItems" fxFlexFill>
        <div
          *ngFor="let listItem of listItems.controls; let i = index"
          class="full-width"
          fxFlexFill
        >
          <span [formGroupName]="i" fxFlex>
            <app-list-option
              [index]="i"
              [jsPlumb]="jsPlumb"
              [blockFormGroup]="listMessageBlock"
              [formGroupNameInput]="i"
            ></app-list-option>
          </span>
        </div>
      </div>
    </form>

    <button
      (click)="addNewOption()"
      mat-flat-button
      class="add-button"
      fxLayout="row"
      fxLayoutAlign="center center"
      fxLayoutGap="10px"
    >
      Add Option
    </button>
  </mat-card-content>
</mat-card>
